{% extends 'base.html' %}

{% block body %}

<body>
  <form class="signup-form" name="signup_form" method="post">
    <div class="signup-container">
      <div class="logo">Sign Up</div>
      <div class="form-group">
        <label for="id">ID</label>
        <input type="text" id="id" name="id" placeholder="ID">
        <small>6~16 characters</small>
      </div>
      <div class="form-group">
        <label for="email">Email Address</label>
        <input type="email" id="email" name="email" placeholder="Email Address">
      </div>
      <div class="form-group">
        <label for="password">Password</label>
        <input type="password" id="password" name="password" placeholder="Password">
        <small>must include one special characters and numbers (8-20 characters)</small>
      </div>
      <div class="form-group">
        <label for="confirm-password">Confirm Password</label>
        <input type="password" id="confirm-password" name="confirm-password" placeholder="Confirm your password">
      </div>
      <div class="form-group">
        <label for="country">Country</label>
        <select id="country" name="country">
          <option value="South Korea">South Korea</option>
          <option value="Malaysia">Malaysia</option>
          <option value="Myanmar">Myanmar</option>
          <option value="Australia">Australia</option>
          <!-- Add more options as needed -->
        </select>
      </div>
      <button type="button" class="sign-up-btn" onclick="checkSignUp()">Sign Up</button>
    </div>
  </form>
    
  <script>
    function checkSignUp(){
      var id = document.querySelector('input[name="id"]').value;
      var email = document.querySelector('input[name="email"]').value;
      var password = document.querySelector('input[name="password"]').value;
      var password_c = document.querySelector('input[name="confirm-password"]').value;

      // Empty test
      var isEmpty = (id === '') || (email === '') || (password === '') || (password_c === '');
      if(isEmpty){
        alert("입력하지 않은 란이 존재합니다");
        return;
      }
      
      // ID test
      var usernameRegex = /^[a-zA-Z0-9_-]{6,16}$/;
      if (!usernameRegex.test(id)) {
        alert("ID는 6 ~ 16자 사이로 입력해주세요");
        return;
      }

      // Password test
      var passwordRegex = /^(?=.*\d)(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,20}$/;
      if (!passwordRegex.test(password)) {
        alert("비밀번호는 8~20자이며, 1개 이상의 숫자와 1개 이상의 특수문자로 구성되어야 합니다");
        return;
      }
      if (!(password === password_c)) {
        alert("비밀번호와 비밀번호 확인이 일치하지 않습니다");
        return;
      }

      document.signup_form.submit();
    }
  </script>
</body>

{% endblock %}

</html>
