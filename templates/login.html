{% extends 'base.html' %}

{% block body %}

<body>
    <div class="login-container">
        <img src="..\static\logo.png" class="logo" alt="Logo">
        <form class="login-form" method="post">
            <input type="text" name="Username" placeholder="ID" required>
            <input type="password" name="Password" placeholder="Password" required>
            <button type="submit">Login</button>
            <button type="button" id="signupButton">Sign Up</button>
        </form>
        {% if message %}
            <div class='container'>
                <div class="alert alert-warning">
                    <button type="button" class="close" data-dismiss="alert">&times;</button>
                    {{ message }}
                </div>
            </div>
        {% endif %}
    </div>

    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
            <script>
            if ('{{category}}' === "success")
            {
                switch ('{{message}}') {
                // create profile에서 발생한 메세지
                case "SUC_CODE:SIGNUP_SUCCEEDS":
                    alert("회원가입에 성공했습니다.\n 로그인 페이지로 이동합니다.")
                    break;
                
                default:
                    break;
                }
            }
            </script>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <script>
        document.getElementById('signupButton').addEventListener('click', function() {
            window.location.href = 'signup';
        });
    </script>
</body>

{% endblock %}

</html>
